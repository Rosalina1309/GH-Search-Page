name: reactAppTestingnDeploy
run-name: ${{ github.actor }} is testing her app
on: 
  push:
    branches-ignore:
      - gh-pages
permissions:
  contents: write
jobs: 
  build-and-deploy:
    concurrency: ci-${{ github.ref }}
    runs-on: ubuntu-latest
    defaults: 
      run:
        working-directory: ./search-page
    steps: 
      - name: Checkout
        uses: actions/checkout@v3
      - name: Install dependencies
        run: npm ci
      - name: Run the tests
        run: npm run test
      - name: Deploy to GitHub Pages
        run: npm run deploy
        env: 
          CI: true
          working-directory: ./search-page

    